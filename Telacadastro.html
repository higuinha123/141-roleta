<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - At Home</title>
    <link rel="stylesheet" href="cadastro.css">
    <script defer src="js/templateLoader.js"></script>
    <link rel="stylesheet" href="css/headerTemplateCss.css">
</head>

<body>
    <header id="header">

    </header>

    <main class="main-content">
        <div class="form-container">
            <h1 class="form-title">Cadastro</h1>
            
            <form id="cadastroForm">
                <div class="form-group">
                    <input type="text" class="form-input" placeholder="Nome completo" required>
                </div>
                
                <div class="form-group">
                    <input type="email" class="form-input" placeholder="Email" required>
                </div>
                
                <div class="form-group">
                    <input type="password" class="form-input" placeholder="Senha" required>
                </div>
                
                <div class="form-group">
                    <input type="tel" class="form-input" placeholder="CPF" required>
                </div>

                <div class="question-section">
                    <h2 class="question-title">Quais são do seu interesse?</h2>
                    <div class="options-grid">
                        <button type="button" class="option-button" data-category="interesse" data-value="Móveis">Móveis</button>
                        <button type="button" class="option-button" data-category="interesse" data-value="Plantas">Plantas</button>
                        <button type="button" class="option-button" data-category="interesse" data-value="Organização">Organização</button>
                        <button type="button" class="option-button" data-category="interesse" data-value="Limpeza">Limpeza</button>
                        <button type="button" class="option-button" data-category="interesse" data-value="Ter gerais">Ter gerais</button>
                        <button type="button" class="option-button" data-category="interesse" data-value="Higiene">Higiene</button>
                    </div>
                </div>

                <div class="question-section">
                    <h2 class="question-title">O que você faz?</h2>
                    <div class="options-grid">
                        <button type="button" class="option-button" data-category="atividade" data-value="Trabalho">Trabalho</button>
                        <button type="button" class="option-button" data-category="atividade" data-value="Faculdade">Faculdade</button>
                        <button type="button" class="option-button" data-category="atividade" data-value="Cuido">Cuido</button>
                        <button type="button" class="option-button" data-category="atividade" data-value="Trabalho e Faculdade">Trabalho e Faculdade</button>
                        <button type="button" class="option-button" data-category="atividade" data-value="Empreendo">Empreendo</button>
                        <button type="button" class="option-button" data-category="atividade" data-value="Cuido">Cuido</button>
                    </div>
                </div>

                <button type="submit" class="submit-button">CADASTRAR</button>
            </form>
        </div>
    </main>

    <script>
       
        document.querySelectorAll('.option-button').forEach(button => {
            button.addEventListener('click', function() {
                const category = this.dataset.category;
                const value = this.dataset.value;
                
               
                document.querySelectorAll(`[data-category="${category}"]`).forEach(btn => {
                    btn.classList.remove('selected');
                });
                
               
                this.classList.add('selected');
                
               
                this.setAttribute('data-selected', 'true');
            });
        });

        
        document.getElementById('cadastroForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            
            const formData = new FormData(this);
            const inputs = this.querySelectorAll('.form-input');
            const selectedOptions = {
                interesse: [],
                atividade: []
            };
            
            
            document.querySelectorAll('.option-button.selected').forEach(button => {
                const category = button.dataset.category;
                const value = button.dataset.value;
                selectedOptions[category].push(value);
            });
            
            
            let isValid = true;
            inputs.forEach(input => {
                if (!input.value.trim()) {
                    isValid = false;
                    input.style.borderColor = '#ff4444';
                } else {
                    input.style.borderColor = '#e0e0e0';
                }
            });
            
            if (selectedOptions.interesse.length === 0 || selectedOptions.atividade.length === 0) {
                isValid = false;
                alert('Por favor, selecione pelo menos uma opção em cada categoria.');
            }
            
            if (isValid) {
            
                console.log('Form data:', {
                    nome: inputs[0].value,
                    email: inputs[1].value,
                    senha: inputs[2].value,
                    cpf: inputs[3].value,
                    interesses: selectedOptions.interesse,
                    atividade: selectedOptions.atividade
                });
                
                alert('Cadastro realizado com sucesso!');
                
               
                this.reset();
                document.querySelectorAll('.option-button').forEach(btn => {
                    btn.classList.remove('selected');
                });
            }
        });

      
        document.querySelector('input[placeholder="CPF"]').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            e.target.value = value;
        });
    </script>
</body>
</html>